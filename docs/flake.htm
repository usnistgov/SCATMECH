<html>
<head>
<link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
<script src="https://pages.nist.gov/nist-header-footer/js/jquery-1.9.0.min.js" type="text/javascript" defer="defer"></script>
<script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>
  <meta name="generator" content=
  "HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org">
   <link rel="STYLESHEET" href="style.css" type="text/css">

  <title>SCATMECH: Subsurface_Facet_BRDF_Model</title>
<script language="JavaScript" id="_fed_an_js_tag" src="/js/federated-analytics.all.min.js?agency=NIST&subagency=pml&pua=UA-37115410-46&yt=true"></script>
</head>

<body><br>
  <a name="top" id="top"><!-- --></a>

  <table width="98%" border="0" cellpadding="0" cellspacing="0"
  align="center">
    <tr>
      <td>
        <p class="nav"><a href="index.htm">SCATMECH</a> &gt; <a href=
        "classes.htm">Classes and Functions</a> &gt;
        <a href="classes.htm#SSM">Surface Scattering Models</a>
        &gt; Subsurface_Facet_BRDF_Model</p>

	<h1>class
        Subsurface_Facet_BRDF_Model</h1>

        
        <hr>
        <p>The class <b>Subsurface_Facet_BRDF_Model</b> calculates the
        scattering from large scale roughness of a substrate under
        a smooth dielectric overcoat. The flakes are assumed to
        have a specified slope distribution function. The model is
        similar to <a href="facet.htm">Facet_BRDF_Model</a>, except
        that the facets are assumed to be beneath a refracting
        interface. The model also can be applied to the scattering
        from flakes embedded in a dielectric coating.
	<br><br>
        <center>
          <img src="Images/flake.gif" width="400" height="226" alt=
          "Diagram showing Subsurface_Facet_BRDF_Model">
        </center>

	<h2>Parameters:</h2>

        <table border="1" cellpadding="5">
          <tr>
            <th>Parameter</th>

            <th>Data
            Type</th>

            <th>Description</th>

            <th>Default</th>
          </tr>

          <tr>
            <td class="parameter">lambda</td>

            <td class="datatype">double</td>

            <td class="description">Wavelength of the light
            in vacuum [&#181;m].<br>
            (Inherited from <a href=
            "BRDF_Model.htm">BRDF_Model</a>.)</td>

            <td class="default">0.532</td>
          </tr>

          <tr>
            <td class="parameter">type</td>

            <td class="datatype">int</td>

            <td class="description">
	      Indicates whether the light is incident from above the
            substrate or from within the substrate and whether the
            scattering is evaluated in reflection or transmission.
            The choices are:<br>
	      <b>0</b> : Light is incident from the above the substrate, and scattering is evaluated in reflection.<br>
	      <b>1</b> : Light is incident from the above the substrate, and scattering is evaluated in transmission.<br>
	      <b>2</b> : Light is incident from the within the substrate, and scattering is evaluated in reflection.<br>
	      <b>3</b> : Light is incident from the within the substrate, and scattering is evaluated in transmission.<br>
	      For <b>1</b>, <b>2</b>, and <b>3</b>, the substrate must be non-absorbing.<br>
	      Subsurface_Facet_BRDF_Model only supports <b>type=0</b>.<br>
            (Inherited from <a href=
            "BRDF_Model.htm">BRDF_Model</a>).</td>

            <td class="default">0</td>
          </tr>

          <tr>
            <td class="parameter">substrate</td>

            <td class="datatype"><a href="dielfunc.htm">dielectric_function</a></td>

            <td class="description">The
            optical constants of the substrate, expressed as a
            complex number (n,k) or, optionally, as a function of
            wavelength.<br>
            (Inherited from <a href=
            "BRDF_Model.htm">BRDF_Model</a>.)</td>

            <td class="default">(4.05,0.05)</td>
          </tr>

          <tr>
            <td class="parameter">sdf</td>

            <td class="datatype"><a href="sdf.htm">Slope_Distribution_Function</a></td>

            <td class="description">Function
            describing the isotropic two-dimensional distribution
            of surface slopes.<br>
            (Inherited from <a href=
            "facet.htm">Facet_BRDF_Model</a>.)</td>

            <td class="default">Exponential_Slope_Distribution_Function</td>
          </tr>

          <tr>
            <td class="parameter">stack</td>

            <td class="datatype"><a href="stackmodel.htm">StackModel_Ptr</a></td>

            <td class="description">Description of any stack
            of films deposited on the substrate. The films are assumed to be conformal and of
            total thickness much less than the horizontal scale of
            the roughness.<br>
            (Inherited from <a href=
            "facet.htm">Facet_BRDF_Model</a>).</td>

            <td class="default">No_StackModel</td>
          </tr>

          <tr>
            <td class="parameter">overcoat</td>

            <td class="datatype"><a href="dielfunc.htm">dielectric_function</a></td>

            <td class="description">The
            optical constants of the coating above the rough
            surface, expressed as a complex number (n,k) or,
            optionally, as a function of wavelength. The coating's
            absorption coefficient (k) must be zero.</td>

            <td class="default">(1.59,0.0)</td>
          </tr>

          <tr>
            <td class="parameter">overcoat_stack</td>

            <td class="datatype"><a href="stackmodel.htm">StackModel_Ptr</a></td>

            <td class="description">Description of any stack
            of films deposited on top of the coating. The films are assumed to be
            conformal and to not be rough.
            </td>

            <td class="default">No_StackModel</td>
          </tr>
        </table>
        
        <h2>See also:</h2>

        <p><a href=
        "index.htm">SCATMECH Home</a>, &nbsp; <a href=
        "convent.htm">Conventions</a>, &nbsp; <a href=
        "facet.htm">Facet_BRDF_Model</a>, &nbsp; <a href=
        "dielstack.htm">dielectric_stack</a></p>

        <p><a href="http://dx.doi.org/10.1117/12.446721">T.A.&nbsp;Germer and M.E.&nbsp;Nadal, "Modeling the appearance of special effect pigments," in
        <i>Surface Scattering and Diffraction for Advanced
        Metrology</i>, Z.-H.&nbsp;Gu and A.A.&nbsp;Maradudin, Eds.,
        Proc. SPIE <b>4447</b>, 77-86 (2001).</a></p>

        <p><a href="https://doi.org/10.1364/AO.43.001266">T.A.&nbsp;Germer and E.&nbsp;Marx, "Ray model of light
        scattering by flake pigments or rough surfaces with smooth
        transparent coatings," Appl. Opt. <b>43</b>(6), 1266-1274
        (2004).</a></p>
	
	<h2>Include file:</h2>

          <pre>
#include "<a href="../code/flake.h">flake.h</a>"
</pre>
        <h2>Source code:</h2>

          <pre>
<a href="../code/flake.cpp">flake.cpp</a>
</pre>
        <h2>Definition of public elements:</h2>

          <pre>
class Subsurface_Facet_BRDF_Model
  : public <a href="facet.htm">Facet_BRDF_Model</a>
{
    virtual double <a href=
"#local_angle">local_angle</a>(double thetai,double thetas,double phis);
    virtual double <a href=
"#local_slope">local_slope</a>(double thetai,double thetas,double phis);
};

</pre>

        <hr>

        <h3><a name=
        "local_angle" id="local_angle">virtual double
        local_angle(double thetai,double thetas,double
        phis)</a></h3>

        <blockquote><p>
          A function
          which returns the local angle of incidence on a surface
          facet. It overloads the function of the same name
          provided by <a href=
          "facet.htm">Facet_BRDF_Model</a>.
        </blockquote>

        <p><a href="#top"><span class="totop">Top of Page</span></a></p>

	<h3><a name=
        "local_slope" id="local_slope">virtual double
        local_slope(double thetai,double thetas,double
        phis)</a></h3>

        <blockquote><p>
          A function which returns the local slope of a surface
          facet reflecting in the specified geometry. It overloads
          the function of the same name provided by <a href=
          "facet.htm">Facet_BRDF_Model</a>.
        </blockquote>

        <p><a href="#top"><span class="totop">Top of Page</span></a></p>

<!-- START FOOTER -->
<hr>
<h2>For More Information</h2>

<p>
<a href="http://www.nist.gov/pml/div685/grp06/germer.cfm">SCATMECH Technical Information and Questions</a><br>
<a href="http://www.nist.gov/pml/div685/index.cfm" target="_top">Sensor Science Division Home Page</a><br>
<a href="mailto:fraser@nist.gov">Sensor Science Division Inquiries</a><br>
<a href="mailto:thomas.germer@nist.gov">Website Comments</a>

<p>
Current SCATMECH version: <a href="./download.htm">7.01 (September 2017)</a><br>
<br>

</td>
</tr>
</table>

</body>
</html>
